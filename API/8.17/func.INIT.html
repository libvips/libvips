<!--
SPDX-FileCopyrightText: libvips team and contributors

SPDX-License-Identifier: LGPL-2.1-or-later
-->

<!DOCTYPE html>
<html lang="en">
<head>
  <title>Vips.INIT</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta charset="utf-8" />

  
  <meta property="og:type" content="website"/>

  

  
  <meta property="og:title" content="Vips.INIT"/>
  <meta property="og:description" content="Reference for Vips.INIT"/>
  <meta name="twitter:title" content="Vips.INIT"/>
  <meta name="twitter:description" content="Reference for Vips.INIT"/>


  
  <meta name="twitter:card" content="summary"/>

  
  
  
  <link rel="search" type="application/opensearchdescription+xml" title="Vips" href="opensearch.xml">
  
  

  <link rel="stylesheet" href="style.css" type="text/css" />

  

  
  <script src="urlmap.js"></script>
  
  
  <script src="fzy.js"></script>
  <script src="search.js"></script>
  
  <script src="main.js"></script>

  
</head>

<body>
  <div id="body-wrapper" tabindex="-1">

    <nav class="sidebar devhelp-hidden">
      
      
      <div class="search section">
        <form id="search-form" autocomplete="off">
          <input id="search-input" type="text" name="do-not-autocomplete" placeholder="Click, or press 's' to search" autocomplete="off"/>
        </form>
      </div>
      
      <div class="section namespace">
        <h3><a href="index.html">Vips</a></h3>
        <p>API Version: 8.0</p>
        
        <p>Library Version: 8.17</p>
        
      </div>
      

<div class="section">
  <h5>Function Macros</h5>
  <div class="links">
  
  </div>
</div>


      <div class="section generator">
        <p>Generated by <a href="https://gitlab.gnome.org/GNOME/gi-docgen">gi-docgen</a> 2025.3</p>
      </div>
    </nav>

    <button id="btn-to-top" class="hidden"><span class="up-arrow"></span></button>

    
<section id="main" class="content">
  <header>
    <h3>Function Macro</h3>
    <h1><a href="index.html">Vips</a><span class="sep"></span>INIT</h1>
  </header>

  <section>
    <div class="docblock">
      <p></p>
    </div>
    <div class="declaration toggle-wrapper">
      <h4 id="declaration" style="display:flex;">
        Declaration
        <a href="#declaration" class="anchor"></a>
        
        <a class="srclink" title="go to source location" href="https://github.com/libvips/libvips/blob/master/libvips/include/vips/vips.h#L153">[src]</a>
        
      </h4>

      <div class="docblock">
        <pre><code><div class="highlight"><pre><span></span><span class="cp">#define VIPS_INIT (</span>
<span class="w">  </span><span class="n">ARGV0</span>
<span class="p">)</span>
</pre></div>
</code></pre>
      </div>
    </div>

    <div class="description toggle-wrapper">
      <h4 id="description" style="display:flex;">
        Description
        <a href="#description" class="anchor"></a>
        
        <a class="srclink" title="go to source location" href="https://github.com/libvips/libvips/blob/master/libvips/iofuncs/init.c#L204">[src]</a>
        
      </h4>

      <div class="docblock">
        <p><a href="func.INIT.html"><code>VIPS_INIT()</code></a> starts up the world of <span class="caps">VIPS</span>. You should call this on
program startup before using any other <span class="caps">VIPS</span> operations. If you do not call
<a href="func.INIT.html"><code>VIPS_INIT()</code></a>, <span class="caps">VIPS</span> will call it for you when you use your first <span class="caps">VIPS</span>
operation, but it may not be able to get hold of <code>ARGV0</code> and <span class="caps">VIPS</span> may
therefore be unable to find its data files. It is much better to call
this macro&nbsp;yourself.</p>
<p><code>ARGV0</code> is used to help discover message catalogues if libvips has been
relocated. If you don&#8217;t need a relocatable package, you can just pass <code>""</code>
and it&#8217;ll be&nbsp;fine.</p>
<p>Additionally, <a href="func.INIT.html"><code>VIPS_INIT()</code></a> can be run from any thread, but it must not be
called from more than one thread at the same time. This is much easier to
guarantee if you call it&nbsp;yourself.</p>
<p><a href="func.INIT.html"><code>VIPS_INIT()</code></a> is a macro, since it tries to check <span class="caps">ABI</span> compatibility
between the caller and the library. You can also call <a href="func.init.html"><code>vips_init()</code></a>, the
non-macro version, if macros are not available to&nbsp;you.</p>
<p>You may call <a href="func.INIT.html"><code>VIPS_INIT()</code></a> many times and <a href="func.shutdown.html"><code>vips_shutdown()</code></a> many times, but you
must not call <a href="func.INIT.html"><code>VIPS_INIT()</code></a> after <a href="func.shutdown.html"><code>vips_shutdown()</code></a>. In other words, you cannot
stop and restart&nbsp;vips.</p>
<p>Use the environment variable <code>VIPS_MIN_STACK_SIZE</code> to set the minimum stack
size. For example, <code>2m</code> for a minimum of two megabytes of stack. This can
be important for systems like musl where the default stack is very&nbsp;small.</p>
<p><a href="func.INIT.html"><code>VIPS_INIT()</code></a> does approximately the&nbsp;following:</p>
<ul>
<li>
<p>checks that the libvips your program is expecting is
  binary-compatible with the vips library you&#8217;re running&nbsp;against</p>
</li>
<li>
<p>sets a minimum stack size, see&nbsp;above</p>
</li>
<li>
<p>initialises any libraries that <span class="caps">VIPS</span> is using, including GObject
  and the threading system, if&nbsp;necessary</p>
</li>
<li>
<p>guesses where the <span class="caps">VIPS</span> data files are and sets up
  internationalisation &#8212; see <a href="func.guess_prefix.html"><code>vips_guess_prefix()</code></a></p>
</li>
<li>
<p>creates the main vips types, including <a href="class.Image.html"><code>VipsImage</code></a> and&nbsp;friends</p>
</li>
<li>
<p>loads any plugins from $libdir/vips-x.y/, where x and y are the
  major and minor version numbers for this <span class="caps">VIPS</span>.</p>
</li>
</ul>
<p>Example:</p>
<div class="codehilite"><pre><span></span><code><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">argc</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">**</span><span class="n">argv</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">VIPS_INIT</span><span class="p">(</span><span class="n">argv</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
<span class="w">        </span><span class="n">vips_error_exit</span><span class="p">(</span><span class="s">&quot;unable to start VIPS&quot;</span><span class="p">);</span>

<span class="w">    </span><span class="n">vips_shutdown</span><span class="p">();</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<div class="admonition seealso">
<p class="admonition-title">See&nbsp;also</p>
<p><a href="func.shutdown.html"><code>vips_shutdown()</code></a>, <a href="func.add_option_entries.html"><code>vips_add_option_entries()</code></a>, <a href="func.version.html"><code>vips_version()</code></a>,
<a href="func.guess_prefix.html"><code>vips_guess_prefix()</code></a>, <a href="func.guess_libdir.html"><code>vips_guess_libdir()</code></a>.</p>
</div>
      </div>

      <div class="docblock">
        
        
        
        
        <p>This function is not directly available to language bindings.</p>
        
        
      </div>

      
    </div>

    
    <div class="parameters toggle-wrapper">
      <h4 id="parameters">
        Parameters
        <a href="#parameters" class="anchor"></a>
      </h4>

      <div class="docblock">
        <dl class="arguments">
          
          <dt class="arg-name"><code>ARGV0</code></dt>
          <dd class="arg-description">
            <p><em>Type:</em>&nbsp;<code>-</code></p>
            <p>Name of&nbsp;application.</p>
            <table>
            
            
            
            
            
            
            
            
            
            </table>
          </dd>
          

          
        </dl>
      </div>
    </div>
    

    
  </section>
</section>


    

    <section id="search" class="content hidden"></section>

    <footer>
    
    </footer>
  </div>
</body>
</html>