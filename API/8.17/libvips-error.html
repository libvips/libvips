<!--
SPDX-FileCopyrightText: libvips team and contributors

SPDX-License-Identifier: LGPL-2.1-or-later
-->

<!DOCTYPE html>
<html lang="en">
<head>
  <title>Vips &ndash; 8.0: Operator index &gt; By section &gt; Error</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta charset="utf-8" />

  
  <meta property="og:type" content="website"/>

  

  
  <meta property="og:title" content="Vips: Operator index &gt; By section &gt; Error"/>
  <meta property="og:description" content="Reference for Vips-8.0: Operator index &gt; By section &gt; Error"/>
  <meta name="twitter:title" content="Vips: Operator index &gt; By section &gt; Error"/>
  <meta name="twitter:description" content="Reference for Vips-8.0: Operator index &gt; By section &gt; Error"/>


  
  <meta name="twitter:card" content="summary"/>

  
  
  
  <link rel="search" type="application/opensearchdescription+xml" title="Vips" href="opensearch.xml">
  
  

  <link rel="stylesheet" href="style.css" type="text/css" />

  

  
  <script src="urlmap.js"></script>
  
  
  <script src="fzy.js"></script>
  <script src="search.js"></script>
  
  <script src="main.js"></script>

  
</head>

<body>
  <div id="body-wrapper" tabindex="-1">

    <nav class="sidebar devhelp-hidden">
      
      
      <div class="search section">
        <form id="search-form" autocomplete="off">
          <input id="search-input" type="text" name="do-not-autocomplete" placeholder="Click, or press 's' to search" autocomplete="off"/>
        </form>
      </div>
      
      <div class="section namespace">
        <h3><a href="index.html">Vips</a></h3>
        <p>API Version: 8.0</p>
        
        <p>Library Version: 8.17</p>
        
      </div>
      
      
      <div class="section generator">
        <p>Generated by <a href="https://gitlab.gnome.org/GNOME/gi-docgen">gi-docgen</a> 2025.3</p>
      </div>
    </nav>

    <button id="btn-to-top" class="hidden"><span class="up-arrow"></span></button>

    
<section id="main" class="content">
  
  <h4 id="title" style="display:flex;">
    Operator index &gt; By section &gt; Error
    <a href="#title" class="anchor"></a>
    
    <a class="srclink" title="go to source location" href="https://github.com/libvips/libvips/blob/master/doc/libvips-error.md">[src]</a>
    
  </h4>
  
  <section>
    <div class="docblock">
    <!-- libvips/iofuncs/error.c -->

<p>libvips maintains an error buffer (a log of localised text messages), a set
of functions for adding messages, and a way to access and clear the&nbsp;buffer.</p>
<p>The error buffer is global, that is, it is shared between all threads. You
can add to the buffer from any thread (there is a lock to prevent
corruption), but it&#8217;s sensible to only read and clear the buffer from the
main thread of&nbsp;execution.</p>
<p>The general principle is: if you detect an error, log a message for the
user. If a function you call detects an error, just propagate it and don&#8217;t
add another&nbsp;message.</p>
<div class="codehilite"><pre><span></span><code><span class="n">VipsImage</span><span class="w"> </span><span class="o">*</span><span class="n">im</span><span class="p">;</span>

<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="n">im</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">vips_image_new_from_file</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span><span class="w"> </span><span class="nb">NULL</span><span class="p">)))</span>
<span class="w">    </span><span class="c1">// vips_image_new_from_file() will set a message, we don&#39;t need to</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span>

<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">vips_image_get_width</span><span class="p">(</span><span class="n">im</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">100</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// we have detected an error, we must set a message</span>
<span class="w">    </span><span class="n">vips_error</span><span class="p">(</span><span class="s">&quot;myprogram&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;%s&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">_</span><span class="p">(</span><span class="s">&quot;width too small&quot;</span><span class="p">));</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<p>The domain argument most of these functions take is not localised and is
supposed to indicate the component which&nbsp;failed.</p>
<p>libvips uses <a href="javascript:void(0)" data-namespace="GLib" data-link="func.warning.html" class="external"><code>g_warning()</code></a> and <a href="javascript:void(0)" data-namespace="GLib" data-link="func.info.html" class="external"><code>g_info()</code></a> to send warning and
information messages to the user. You can use the usual GLib mechanisms to
display or divert these messages. For example, info messages are hidden by
default, but you can see them&nbsp;with:</p>
<div class="codehilite"><pre><span></span><code>$<span class="w"> </span><span class="nv">G_MESSAGES_DEBUG</span><span class="o">=</span>VIPS<span class="w"> </span>vipsthumbnail<span class="w"> </span>k2.jpg
VIPS-INFO:<span class="w"> </span>thumbnailing<span class="w"> </span>k2.jpg
VIPS-INFO:<span class="w"> </span>selected<span class="w"> </span>loader<span class="w"> </span>is<span class="w"> </span>VipsForeignLoadJpegFile
VIPS-INFO:<span class="w"> </span>input<span class="w"> </span>size<span class="w"> </span>is<span class="w"> </span><span class="m">1450</span><span class="w"> </span>x<span class="w"> </span><span class="m">2048</span>
VIPS-INFO:<span class="w"> </span>loading<span class="w"> </span>jpeg<span class="w"> </span>with<span class="w"> </span>factor<span class="w"> </span><span class="m">8</span><span class="w"> </span>pre-shrink
VIPS-INFO:<span class="w"> </span>converting<span class="w"> </span>to<span class="w"> </span>processing<span class="w"> </span>space<span class="w"> </span>srgb
VIPS-INFO:<span class="w"> </span>residual<span class="w"> </span>reducev<span class="w"> </span>by<span class="w"> </span><span class="m">0</span>.5
VIPS-INFO:<span class="w"> </span><span class="m">13</span><span class="w"> </span>point<span class="w"> </span>mask
VIPS-INFO:<span class="w"> </span>using<span class="w"> </span>vector<span class="w"> </span>path
VIPS-INFO:<span class="w"> </span>residual<span class="w"> </span>reduceh<span class="w"> </span>by<span class="w"> </span><span class="m">0</span>.5
VIPS-INFO:<span class="w"> </span><span class="m">13</span><span class="w"> </span>point<span class="w"> </span>mask
VIPS-INFO:<span class="w"> </span>thumbnailing<span class="w"> </span>k2.jpg<span class="w"> </span>as<span class="w"> </span>./tn_k2.jpg
</code></pre></div>

<h2 id="functions">Functions<a class="md-anchor" href="#functions" title="Permanent link"></a></h2>
<ul>
<li><a href="func.error_buffer.html"><code>vips_error_buffer()</code></a></li>
<li><a href="func.error_buffer_copy.html"><code>vips_error_buffer_copy()</code></a></li>
<li><a href="func.error_clear.html"><code>vips_error_clear()</code></a></li>
<li><a href="func.error_freeze.html"><code>vips_error_freeze()</code></a></li>
<li><a href="func.error_thaw.html"><code>vips_error_thaw()</code></a></li>
<li><a href="func.error.html"><code>vips_error()</code></a></li>
<li><a href="func.verror.html"><code>vips_verror()</code></a></li>
<li><a href="func.error_system.html"><code>vips_error_system()</code></a></li>
<li><a href="func.verror_system.html"><code>vips_verror_system()</code></a></li>
<li><a href="func.error_g.html"><code>vips_error_g()</code></a></li>
<li><a href="func.g_error.html"><code>vips_g_error()</code></a></li>
<li><a href="func.error_exit.html"><code>vips_error_exit()</code></a></li>
<li><a href="func.check_uncoded.html"><code>vips_check_uncoded()</code></a></li>
<li><a href="func.check_coding.html"><code>vips_check_coding()</code></a></li>
<li><a href="func.check_coding_known.html"><code>vips_check_coding_known()</code></a></li>
<li><a href="func.check_coding_noneorlabq.html"><code>vips_check_coding_noneorlabq()</code></a></li>
<li><a href="func.check_coding_same.html"><code>vips_check_coding_same()</code></a></li>
<li><a href="func.check_mono.html"><code>vips_check_mono()</code></a></li>
<li><a href="func.check_bands.html"><code>vips_check_bands()</code></a></li>
<li><a href="func.check_bands_1or3.html"><code>vips_check_bands_1or3()</code></a></li>
<li><a href="func.check_bands_atleast.html"><code>vips_check_bands_atleast()</code></a></li>
<li><a href="func.check_bands_1orn.html"><code>vips_check_bands_1orn()</code></a></li>
<li><a href="func.check_bands_1orn_unary.html"><code>vips_check_bands_1orn_unary()</code></a></li>
<li><a href="func.check_bands_same.html"><code>vips_check_bands_same()</code></a></li>
<li><a href="func.check_bandno.html"><code>vips_check_bandno()</code></a></li>
<li><a href="func.check_int.html"><code>vips_check_int()</code></a></li>
<li><a href="func.check_uint.html"><code>vips_check_uint()</code></a></li>
<li><a href="func.check_uintorf.html"><code>vips_check_uintorf()</code></a></li>
<li><a href="func.check_noncomplex.html"><code>vips_check_noncomplex()</code></a></li>
<li><a href="func.check_complex.html"><code>vips_check_complex()</code></a></li>
<li><a href="func.check_twocomponents.html"><code>vips_check_twocomponents()</code></a></li>
<li><a href="func.check_format.html"><code>vips_check_format()</code></a></li>
<li><a href="func.check_u8or16.html"><code>vips_check_u8or16()</code></a></li>
<li><a href="func.check_8or16.html"><code>vips_check_8or16()</code></a></li>
<li><a href="func.check_u8or16orf.html"><code>vips_check_u8or16orf()</code></a></li>
<li><a href="func.check_format_same.html"><code>vips_check_format_same()</code></a></li>
<li><a href="func.check_size_same.html"><code>vips_check_size_same()</code></a></li>
<li><a href="func.check_oddsquare.html"><code>vips_check_oddsquare()</code></a></li>
<li><a href="func.check_vector_length.html"><code>vips_check_vector_length()</code></a></li>
<li><a href="func.check_vector.html"><code>vips_check_vector()</code></a></li>
<li><a href="func.check_hist.html"><code>vips_check_hist()</code></a></li>
<li><a href="func.check_matrix.html"><code>vips_check_matrix()</code></a></li>
<li><a href="func.check_separable.html"><code>vips_check_separable()</code></a></li>
<li><a href="func.check_precision_intfloat.html"><code>vips_check_precision_intfloat()</code></a></li>
</ul>
    </div>
  </section>
</section>


    
<div id="toc" class="toc">
  <nav aria-labelledby="toc-title">
    <p id="toc-title">Content</p>
    <ul class="toc-list">
      
        
      
    </ul>
  </nav>
</div>


    <section id="search" class="content hidden"></section>

    <footer>
    
    </footer>
  </div>
</body>
</html>