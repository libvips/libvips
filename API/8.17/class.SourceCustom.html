<!--
SPDX-FileCopyrightText: libvips team and contributors

SPDX-License-Identifier: LGPL-2.1-or-later
-->

<!DOCTYPE html>
<html lang="en">
<head>
  <title>Vips.SourceCustom</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta charset="utf-8" />

  
  <meta property="og:type" content="website"/>

  

  
  <meta property="og:title" content="Vips.SourceCustom"/>
  <meta property="og:description" content="Reference for Vips.SourceCustom"/>
  <meta name="twitter:title" content="Vips.SourceCustom"/>
  <meta name="twitter:description" content="Reference for Vips.SourceCustom"/>


  
  <meta name="twitter:card" content="summary"/>

  
  
  
  <link rel="search" type="application/opensearchdescription+xml" title="Vips" href="opensearch.xml">
  
  

  <link rel="stylesheet" href="style.css" type="text/css" />

  

  
  <script src="urlmap.js"></script>
  
  
  <script src="fzy.js"></script>
  <script src="search.js"></script>
  
  <script src="main.js"></script>

  
</head>

<body>
  <div id="body-wrapper" tabindex="-1">

    <nav class="sidebar devhelp-hidden">
      
      
      <div class="search section">
        <form id="search-form" autocomplete="off">
          <input id="search-input" type="text" name="do-not-autocomplete" placeholder="Click, or press 's' to search" autocomplete="off"/>
        </form>
      </div>
      
      <div class="section namespace">
        <h3><a href="index.html">Vips</a></h3>
        <p>API Version: 8.0</p>
        
        <p>Library Version: 8.17</p>
        
      </div>
      
<div class="section">
  <h5>Type</h5>
  <div class="links">
    <a class="current" href="class.SourceCustom.html#description">SourceCustom</a>
  </div>
</div>


  
<div class="section">
  <h5>Constructors</h5>
  <div class="links">
  
    <a class="ctor" href="ctor.SourceCustom.new.html">new</a>
  
  </div>
</div>



  


  


  


  
<div class="section">
  <h5>Signals</h5>
  <div class="links">
  
    <a class="signal" href="signal.SourceCustom.read.html">read</a>
  
    <a class="signal" href="signal.SourceCustom.seek.html">seek</a>
  
  </div>
</div>



  


  
<div class="section">
  <h5>Virtual methods</h5>
  <div class="links">
  
    <a class="method" href="vfunc.SourceCustom.read.html">read</a>
  
    <a class="method" href="vfunc.SourceCustom.seek.html">seek</a>
  
  </div>
</div>




      <div class="section generator">
        <p>Generated by <a href="https://gitlab.gnome.org/GNOME/gi-docgen">gi-docgen</a> 2025.3</p>
      </div>
    </nav>

    <button id="btn-to-top" class="hidden"><span class="up-arrow"></span></button>

    
<section id="main" class="content">
  <header>
    <h3>Class</h3>
    <h1 aria-label="Name"><a href="index.html">Vips</a><span class="sep" role="presentation"></span>SourceCustom</h1>
  </header>

  <section>
    <summary>
      <div class="docblock">
        <p></p>
      </div>

      <div class="toggle-wrapper">
        <h4 id="description" style="display:flex;">
          Description
          <a href="#description" class="anchor"></a>
          
          <a class="srclink" title="go to source location" href="https://github.com/libvips/libvips/blob/master/libvips/iofuncs/source.c#L91">[src]</a>
          
        </h4>

        <pre><code>class Vips.SourceCustom : Vips.Source
{
  /* No available fields */
}</pre></code>

        <div class="docblock">
          <p>Subclass of <a href="class.Source.html"><code>VipsSource</code></a> with action signals for&nbsp;handlers.</p>
<p>This is supposed to be useful for language&nbsp;bindings.</p>
        </div>

        <div class="docblock">
          
          
          
        </div>

        
      </div>
    </summary>

    
    <div class="toggle-wrapper hierarchy">
      <h4 id="hierarchy">
        Hierarchy
        <a href="#hierarchy" class="anchor"></a>
      </h4>
      <div class="docblock" alt="Hierarchy for Vips.SourceCustom">
        <!-- Generated by graphviz version 2.42.4 (0)
 -->
<!-- Title: hierarchy Pages: 1 -->
<svg width="130pt" height="332pt"
 viewBox="0.00 0.00 130.00 332.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 328)">
<title>hierarchy</title>
<!-- this -->
<g id="node1" class="node">
<title>this</title>
<g id="a_node1"><a xlink:title="VipsSourceCustom">
<path fill="none" stroke="black" d="M110,-36C110,-36 12,-36 12,-36 6,-36 0,-30 0,-24 0,-24 0,-12 0,-12 0,-6 6,0 12,0 12,0 110,0 110,0 116,0 122,-6 122,-12 122,-12 122,-24 122,-24 122,-30 116,-36 110,-36"/>
<text text-anchor="middle" x="61" y="-14.3" font-family="Times,serif" font-size="14.00">VipsSourceCustom</text>
</a>
</g>
</g>
<!-- ancestor_0 -->
<g id="node2" class="node link">
<title>ancestor_0</title>
<g id="a_node2"><a xlink:href="class.Source.html" xlink:title="VipsSource">
<path fill="none" stroke="black" d="M89,-108C89,-108 33,-108 33,-108 27,-108 21,-102 21,-96 21,-96 21,-84 21,-84 21,-78 27,-72 33,-72 33,-72 89,-72 89,-72 95,-72 101,-78 101,-84 101,-84 101,-96 101,-96 101,-102 95,-108 89,-108"/>
<text text-anchor="middle" x="61" y="-86.3" font-family="Times,serif" font-size="14.00">VipsSource</text>
</a>
</g>
</g>
<!-- ancestor_0&#45;&#45;this -->
<g id="edge4" class="edge">
<title>ancestor_0&#45;&#45;this</title>
<path fill="none" stroke="black" d="M61,-71.7C61,-60.85 61,-46.92 61,-36.1"/>
</g>
<!-- ancestor_1 -->
<g id="node3" class="node link">
<title>ancestor_1</title>
<g id="a_node3"><a xlink:href="class.Connection.html" xlink:title="VipsConnection">
<path fill="none" stroke="black" d="M101,-180C101,-180 21,-180 21,-180 15,-180 9,-174 9,-168 9,-168 9,-156 9,-156 9,-150 15,-144 21,-144 21,-144 101,-144 101,-144 107,-144 113,-150 113,-156 113,-156 113,-168 113,-168 113,-174 107,-180 101,-180"/>
<text text-anchor="middle" x="61" y="-158.3" font-family="Times,serif" font-size="14.00">VipsConnection</text>
</a>
</g>
</g>
<!-- ancestor_1&#45;&#45;ancestor_0 -->
<g id="edge3" class="edge">
<title>ancestor_1&#45;&#45;ancestor_0</title>
<path fill="none" stroke="black" d="M61,-143.7C61,-132.85 61,-118.92 61,-108.1"/>
</g>
<!-- ancestor_2 -->
<g id="node4" class="node link">
<title>ancestor_2</title>
<g id="a_node4"><a xlink:href="class.Object.html" xlink:title="VipsObject">
<path fill="none" stroke="black" d="M88,-252C88,-252 34,-252 34,-252 28,-252 22,-246 22,-240 22,-240 22,-228 22,-228 22,-222 28,-216 34,-216 34,-216 88,-216 88,-216 94,-216 100,-222 100,-228 100,-228 100,-240 100,-240 100,-246 94,-252 88,-252"/>
<text text-anchor="middle" x="61" y="-230.3" font-family="Times,serif" font-size="14.00">VipsObject</text>
</a>
</g>
</g>
<!-- ancestor_2&#45;&#45;ancestor_1 -->
<g id="edge2" class="edge">
<title>ancestor_2&#45;&#45;ancestor_1</title>
<path fill="none" stroke="black" d="M61,-215.7C61,-204.85 61,-190.92 61,-180.1"/>
</g>
<!-- ancestor_3 -->
<g id="node5" class="node">
<title>ancestor_3</title>
<g id="a_node5"><a xlink:title="GObject.Object">
<path fill="none" stroke="black" d="M80,-324C80,-324 42,-324 42,-324 36,-324 30,-318 30,-312 30,-312 30,-300 30,-300 30,-294 36,-288 42,-288 42,-288 80,-288 80,-288 86,-288 92,-294 92,-300 92,-300 92,-312 92,-312 92,-318 86,-324 80,-324"/>
<text text-anchor="middle" x="61" y="-302.3" font-family="Times,serif" font-size="14.00">GObject</text>
</a>
</g>
</g>
<!-- ancestor_3&#45;&#45;ancestor_2 -->
<g id="edge1" class="edge">
<title>ancestor_3&#45;&#45;ancestor_2</title>
<path fill="none" stroke="black" d="M61,-287.7C61,-276.85 61,-262.92 61,-252.1"/>
</g>
</g>
</svg>

      </div>
    </div>
    

    
    <div class="toggle-wrapper ancestors">
      <h4 id="ancestors">
        Ancestors
        <a href="#ancestors" class="anchor"></a>
      </h4>

      <div class="docblock">
        <ul>
        
          
          <li class="class"><a href="class.Source.html" title="Source">VipsSource</a></li>
          
        
          
          <li class="class"><a href="class.Connection.html" title="Connection">VipsConnection</a></li>
          
        
          
          <li class="class"><a href="class.Object.html" title="Object">VipsObject</a></li>
          
        
          
          <li class="class"><a class="external" href="javascript:void(0)" data-link="class.Object.html" data-namespace="GObject">GObject</a></li>
          
        
        </ul>
      </div>
    </div>
    

    

    

    
    <div class="toggle-wrapper constructors">
      <h4 id="constructors">
        Constructors
        <a href="#constructors" class="anchor"></a>
      </h4>

      <div class="docblock">
      
        <div class="">
          <h6><a href="ctor.SourceCustom.new.html">vips_source_custom_new</a></h6>
          <div class="docblock">
            <p>Create a <code>VipsSourceCustom</code>. Attach signals to implement read and&nbsp;seek.</p>
          </div>
          <div class="docblock">
            <p></p>
          </div>
        </div>
      
      </div>
    </div>
    

    

    
    <div class="toggle-wrapper methods">
      <h4 id="methods">
        Instance methods
        <a href="#methods" class="anchor"></a>
      </h4>

      <div class="docblock">
      
      </div>

      
        
        <div class="toggle-wrapper default-hide ancestor-methods">
          <h5 style="display:block;">Methods inherited from <a href="class.Source.html">VipsSource</a> (13)</h5><div class="docblock">
          
            <h6><a href="method.Source.decode.html">vips_source_decode</a></h6><div class="docblock">
              <p>Signal the end of header read and the start of the pixel decode phase.
After this, you can no longer seek on this&nbsp;source.</p>
            </div>
            <div class="docblock">
              <p></p>
            </div>
            
            <h6><a href="method.Source.is_file.html">vips_source_is_file</a></h6><div class="docblock">
              <p>Test if this source is a simple file with support for seek. Named pipes,
for example, will fail this test. If <span class="caps">TRUE</span>, you can use
<code>vips_connection_filename()</code> to find the&nbsp;filename.</p>
            </div>
            <div class="docblock">
              <p></p>
            </div>
            
            <h6><a href="method.Source.is_mappable.html">vips_source_is_mappable</a></h6><div class="docblock">
              <p>Some sources can be efficiently mapped into memory.
You can still use <code>vips_source_map()</code> if this function returns <code>FALSE</code>,
but it will be&nbsp;slow.</p>
            </div>
            <div class="docblock">
              <p></p>
            </div>
            
            <h6><a href="method.Source.length.html">vips_source_length</a></h6><div class="docblock">
              <p>Return the length in bytes of the source. Unseekable sources, for
example pipes, will have to be read entirely into memory before the length
can be found, so this operation can take a long&nbsp;time.</p>
            </div>
            <div class="docblock">
              <p></p>
            </div>
            
            <h6><a href="method.Source.map.html">vips_source_map</a></h6><div class="docblock">
              <p>Map the source entirely into memory and return a pointer to the
start. If <code>length</code> is non-<span class="caps">NULL</span>, the source size is written to&nbsp;it.</p>
            </div>
            <div class="docblock">
              <p></p>
            </div>
            
            <h6><a href="method.Source.map_blob.html">vips_source_map_blob</a></h6><div class="docblock">
              <p>Just like <code>vips_source_map()</code>, but return a <code>VipsBlob</code> containing the
pointer. <code>source</code> will stay alive as long as the result is&nbsp;alive.</p>
            </div>
            <div class="docblock">
              <p></p>
            </div>
            
            <h6><a href="method.Source.minimise.html">vips_source_minimise</a></h6><div class="docblock">
              <p>Minimise the source. As many resources as can be safely removed are
removed. Use <code>vips_source_unminimise()</code> to restore the source if you wish to
use it&nbsp;again.</p>
            </div>
            <div class="docblock">
              <p></p>
            </div>
            
            <h6><a href="method.Source.read.html">vips_source_read</a></h6><div class="docblock">
              <p>Read up to <code>length</code> bytes from <code>source</code> and store the bytes in <code>buffer</code>.
Return the number of bytes actually read. If all bytes have been read from
the file, return&nbsp;0.</p>
            </div>
            <div class="docblock">
              <p></p>
            </div>
            
            <h6><a href="method.Source.rewind.html">vips_source_rewind</a></h6><div class="docblock">
              <p>Rewind the source to the&nbsp;start.</p>
            </div>
            <div class="docblock">
              <p></p>
            </div>
            
            <h6><a href="method.Source.seek.html">vips_source_seek</a></h6><div class="docblock">
              <p>Move the file read position. You can&#8217;t call this after pixel decode starts.
The arguments are exactly as <a href="man:lseek(2)"><code>lseek()</code></a>.</p>
            </div>
            <div class="docblock">
              <p></p>
            </div>
            
            <h6><a href="method.Source.sniff.html">vips_source_sniff</a></h6><div class="docblock">
              <p>Return a pointer to the first few bytes of the file. If the file is too
short, return <span class="caps">NULL</span>.</p>
            </div>
            <div class="docblock">
              <p></p>
            </div>
            
            <h6><a href="method.Source.sniff_at_most.html">vips_source_sniff_at_most</a></h6><div class="docblock">
              <p>Attempt to sniff at most <code>length</code> bytes from the start of the source. A
pointer to the bytes is returned in <code>data</code>. The number of bytes actually
read is returned &#8212; it may be less than <code>length</code> if the file is shorter than
<code>length</code>. A negative number indicates a read&nbsp;error.</p>
            </div>
            <div class="docblock">
              <p></p>
            </div>
            
            <h6><a href="method.Source.unminimise.html">vips_source_unminimise</a></h6><div class="docblock">
              <p>Restore the source after minimisation. This is called at the start
of every source method, so loaders should not usually need&nbsp;this.</p>
            </div>
            <div class="docblock">
              <p></p>
            </div>
            
          </div>
        </div>
        
      
        
        <div class="toggle-wrapper default-hide ancestor-methods">
          <h5 style="display:block;">Methods inherited from <a href="class.Connection.html">VipsConnection</a> (2)</h5><div class="docblock">
          
            <h6><a href="method.Connection.filename.html">vips_connection_filename</a></h6><div class="docblock">
              No description available.
            </div>
            <div class="docblock">
              <p></p>
            </div>
            
            <h6><a href="method.Connection.nick.html">vips_connection_nick</a></h6><div class="docblock">
              No description available.
            </div>
            <div class="docblock">
              <p></p>
            </div>
            
          </div>
        </div>
        
      
        
        <div class="toggle-wrapper default-hide ancestor-methods">
          <h5 style="display:block;">Methods inherited from <a href="class.Object.html">VipsObject</a> (27)</h5><div class="docblock">
          
            <div class="docblock">
              <p>Please see&nbsp;<a href="class.Object.html#methods">VipsObject</a>&nbsp;for a full list of methods.</em></p>
            </div>
          
          </div>
        </div>
        
      
        
        <div class="toggle-wrapper default-hide ancestor-methods"><h5 style="display:block;">Methods inherited from <a class="external" href="javascript:void(0)" data-link="class.Object.html" data-namespace="GObject">GObject</a> (43)</h5>
          <div class="docblock">
          
            <div class="docblock">
              <p>Please see&nbsp;<a class="external" href="javascript:void(0)" data-link="class.Object.html#methods" data-namespace="GObject">GObject</a>&nbsp;for a full list of methods.</em></p>
            </div>
          
          </div>
        </div>
        
      

      
    </div>
    

    
    <div class="toggle-wrapper properties">
      <h4 id="properties">
        Properties
        <a href="#properties" class="anchor"></a>
      </h4>

      

      
        
        <div class="toggle-wrapper default-hide ancestor-properties">
          <h5 style="display:block;">Properties inherited from <a href="class.Source.html">VipsSource</a> (1)</h5><div class="docblock">
          
            <h6><a href="property.Source.blob.html">Vips.Source:blob</a></h6><div class="docblock">
              No description available.
            </div>
            <div class="docblock">
              <p></p>
            </div>
            
          </div>
        </div>
        
      
        
        <div class="toggle-wrapper default-hide ancestor-properties">
          <h5 style="display:block;">Properties inherited from <a href="class.Connection.html">VipsConnection</a> (2)</h5><div class="docblock">
          
            <h6><a href="property.Connection.descriptor.html">Vips.Connection:descriptor</a></h6><div class="docblock">
              No description available.
            </div>
            <div class="docblock">
              <p></p>
            </div>
            
            <h6><a href="property.Connection.filename.html">Vips.Connection:filename</a></h6><div class="docblock">
              No description available.
            </div>
            <div class="docblock">
              <p></p>
            </div>
            
          </div>
        </div>
        
      
        
        <div class="toggle-wrapper default-hide ancestor-properties">
          <h5 style="display:block;">Properties inherited from <a href="class.Object.html">VipsObject</a> (2)</h5><div class="docblock">
          
            <h6><a href="property.Object.description.html">Vips.Object:description</a></h6><div class="docblock">
              No description available.
            </div>
            <div class="docblock">
              <p></p>
            </div>
            
            <h6><a href="property.Object.nickname.html">Vips.Object:nickname</a></h6><div class="docblock">
              No description available.
            </div>
            <div class="docblock">
              <p></p>
            </div>
            
          </div>
        </div>
        
      
        
      

      

    </div>
    

    
    <div class="signals toggle-wrapper">
      <h4 id="signals">
        Signals
        <a href="#signals" class="anchor"></a>
      </h4>

      
      <div class="docblock">
      
        <div class="">
          <h6><a href="signal.SourceCustom.read.html">Vips.SourceCustom::read</a></h6>
          <div class="docblock">
            <p>This signal is emitted to read bytes from the source into <code>buffer</code>.</p>
          </div>
          <div class="docblock">
            <p></p>
          </div>
        </div>
      
        <div class="">
          <h6><a href="signal.SourceCustom.seek.html">Vips.SourceCustom::seek</a></h6>
          <div class="docblock">
            <p>This signal is emitted to seek the source. The handler should
change the source position&nbsp;appropriately.</p>
          </div>
          <div class="docblock">
            <p></p>
          </div>
        </div>
      
      </div>
      

      
        
      
        
      
        
        <div class="toggle-wrapper default-hide ancestor-signals">
          <h5 style="display:block;">Signals inherited from <a href="class.Object.html">VipsObject</a> (4)</h5><div class="docblock">
          
            <h6><a href="signal.Object.close.html">VipsObject::close</a></h6><div class="docblock">
              <p>The ::close signal is emitted once during object close. The object
is dying and may not&nbsp;work.</p>
            </div>
            <div class="docblock">
              <p></p>
            </div>
            
            <h6><a href="signal.Object.postbuild.html">VipsObject::postbuild</a></h6><div class="docblock">
              <p>The ::postbuild signal is emitted once just after successful object
construction. Return non-zero to cause object construction to&nbsp;fail.</p>
            </div>
            <div class="docblock">
              <p></p>
            </div>
            
            <h6><a href="signal.Object.postclose.html">VipsObject::postclose</a></h6><div class="docblock">
              <p>The ::postclose signal is emitted once after object close. The
object pointer is still valid, but nothing&nbsp;else.</p>
            </div>
            <div class="docblock">
              <p></p>
            </div>
            
            <h6><a href="signal.Object.preclose.html">VipsObject::preclose</a></h6><div class="docblock">
              <p>The ::preclose signal is emitted once just before object close
starts. The object is still&nbsp;alive.</p>
            </div>
            <div class="docblock">
              <p></p>
            </div>
            
          </div>
        </div>
        
      
        
        <div class="toggle-wrapper default-hide ancestor-signals"><h5 style="display:block;">Signals inherited from <a class="external" href="javascript:void(0)" data-link="class.Object.html" data-namespace="GObject">GObject</a> (1)</h5>
          <div class="docblock">
          <h6><a class="external" href="javascript:void(0)" data-namespace="GObject" data-link="signal.Object.notify.html">GObject::notify</a></h6>
            <div class="docblock">
              <p>The notify signal is emitted on an object when one of its properties has
its value set through g_object_set_property(), g_object_set(), et&nbsp;al.</p>
            </div>
          </div>
        </div>
        
      

      

    </div>
    

    
    <div class="class toggle-wrapper default-hide">
      <h4 id="class-struct">
        Class structure
        <a href="#class-struct" class="anchor"></a>
      </h4>

      <div class="docblock">
        <pre><code>struct VipsSourceCustomClass {
  VipsSourceClass parent_class;
  gint64 (* read) (
    VipsSourceCustom* source,
    void* buffer,
    gint64 length
  );
  gint64 (* seek) (
    VipsSourceCustom* source,
    gint64 offset,
    int whence
  );
  
}</code></pre>
      </div>

      <div class="docblock">
        <p>No description available.</p>
      </div>

      
      <div class="docblock">
        <h6>Class members</h6>

        <dl class="members">
        
          <dt><code>parent_class: VipsSourceClass</code></dt>
          <dd><p>No description available.</p></dd>
        
          <dt><code>read: gint64 (* read) (
    VipsSourceCustom* source,
    void* buffer,
    gint64 length
  )</code></dt>
          <dd><p>No description available.</p></dd>
        
          <dt><code>seek: gint64 (* seek) (
    VipsSourceCustom* source,
    gint64 offset,
    int whence
  )</code></dt>
          <dd><p>No description available.</p></dd>
        
        </dd>
      </div>
      
    </div>
    

    
    <div class="toggle-wrapper methods">
      <h4 id="virtual-methods">
        Virtual methods
        <a href="#virtual-methods" class="anchor"></a>
      </h4>

      <div class="docblock">
      
      <div class="">
        <h6 id="vfunc-read"><a href="vfunc.SourceCustom.read.html">Vips.SourceCustomClass.read</a></h6>
        <div class="docblock">
          No description available.
        </div>
        <div class="docblock">
          <p></p>
        </div>
      </div>
      
      <div class="">
        <h6 id="vfunc-seek"><a href="vfunc.SourceCustom.seek.html">Vips.SourceCustomClass.seek</a></h6>
        <div class="docblock">
          No description available.
        </div>
        <div class="docblock">
          <p></p>
        </div>
      </div>
      
      </div>
    </div>
    

    

  </section>
</section>


    
<div id="toc" class="toc">
  <nav aria-labelledby="toc-title">
    <p id="toc-title">Content</p>
    <ul class="toc-list">
      <li class="toc-list-item"><a href="#description"><span class="link-text">Description</span></a></li>
      
      
      <li class="toc-list-item"><a href="#hierarchy"><span class="link-text">Hierarchy</span></a></li>
      
      
      <li class="toc-list-item"><a href="#ancestors"><span class="link-text">Ancestors</span></a></li>
      
      
      
<li class="toc-list-item"><a href="#constructors"><span class="link-text">Constructors</span></a></li>


      

      

      

      
<li class="toc-list-item"><a href="#signals"><span class="link-text">Signals</span></a></li>


      

      
<li class="toc-list-item"><a href="#virtual-methods"><span class="link-text">Virtual methods</span></a></li>


    </ul>
  </nav>
</div>


    <section id="search" class="content hidden"></section>

    <footer>
    
    </footer>
  </div>
</body>
</html>